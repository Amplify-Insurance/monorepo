{
  "_format": "hh-sol-artifact-1",
  "contractName": "LossDistributor",
  "sourceName": "contracts/utils/LossDistributor.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_riskManager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_underwriterManager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_capitalPool",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAddress",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newCapitalPool",
          "type": "address"
        }
      ],
      "name": "CapitalPoolSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newRiskManager",
          "type": "address"
        }
      ],
      "name": "RiskManagerSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newUnderwriterManager",
          "type": "address"
        }
      ],
      "name": "UnderwriterManagerSet",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "PRECISION_FACTOR",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "capitalPool",
      "outputs": [
        {
          "internalType": "contract ICapitalPool",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lossAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalPledgeInPool",
          "type": "uint256"
        }
      ],
      "name": "distributeLoss",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "userPledge",
          "type": "uint256"
        }
      ],
      "name": "getPendingLosses",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "poolLossTrackers",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "accumulatedLossPerPledge",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "totalLossValue",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "poolIds",
          "type": "uint256[]"
        }
      ],
      "name": "realizeAggregateLoss",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "riskManager",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newCapitalPool",
          "type": "address"
        }
      ],
      "name": "setCapitalPool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newRiskManager",
          "type": "address"
        }
      ],
      "name": "setRiskManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newUnderwriterManager",
          "type": "address"
        }
      ],
      "name": "setUnderwriterManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "underwriterManager",
      "outputs": [
        {
          "internalType": "contract IUnderwriterManager",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userLossStates",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "lossDebt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60803461013357601f610c0838819003918201601f19168301916001600160401b0383118484101761013857808492606094604052833981010312610133576100478161014e565b9061006060406100596020840161014e565b920161014e565b331561011a576000549160018060a01b03928360018060a01b031995338784161760005560405192823391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a3169081158015610110575b8015610106575b6100f757509083918560015416176001551683600254161760025516906003541617600355604051610aa590816101638239f35b63d92e233d60e01b8152600490fd5b50848416156100c3565b50848316156100bc565b604051631e4fbdf760e01b815260006004820152602490fd5b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036101335756fe6080604081815260048036101561001557600080fd5b600092833560e01c9081630342a90714610565575080632625339e1461052557806347842663146104fd57806353856533146104825780635bfb75081461045a5780635ccea26b146103ed57806362ca846014610380578063715018a6146103245780638da5cb5b146102fe5780639c942679146102c9578063ccd34cd5146102a2578063d852849c1461027c578063e7c14c68146101e9578063f2fde38b1461014a5763fd3c2d7d146100c857600080fd5b346101465781600319360112610146576100e061058a565b916001600160a01b0360025416330361010357836101006024358561073f565b80f35b906020606492519162461bcd60e51b8352820152601a60248201527f4c443a204e6f7420556e6465727772697465724d616e616765720000000000006044820152fd5b8280fd5b50346101465760203660031901126101465761016461058a565b9061016d610a2b565b6001600160a01b038092169283156101ba5750508254826001600160a01b03198216178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b908460249251917f1e4fbdf7000000000000000000000000000000000000000000000000000000008352820152fd5b5034610146576020366003190112610146576001600160a01b0361020b61058a565b610213610a2b565b16918215610256575050806001600160a01b031960035416176003557f4b661626443182ffd0706ac37de04ee5847d39057837148bbf5d01a5b70bf6ca8280a280f35b517fd92e233d000000000000000000000000000000000000000000000000000000008152fd5b503461014657602036600319011261014657602092818392358252845220549051908152f35b5050346102c557816003193601126102c55760209051670de0b6b3a76400008152f35b5080fd5b5050346102c55760603660031901126102c5576020906102f76102ea61058a565b6044359060243590610666565b9051908152f35b5050346102c557816003193601126102c5576001600160a01b0360209254169051908152f35b833461037d578060031936011261037d5761033d610a2b565b806001600160a01b0381546001600160a01b031981168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b80fd5b5034610146576020366003190112610146576001600160a01b036103a261058a565b6103aa610a2b565b16918215610256575050806001600160a01b031960015416176001557f95329fb8cf31c0dda21532344c24159acccf2f795f93c87a30ac6d3ddb9d03d68280a280f35b5034610146576020366003190112610146576001600160a01b0361040f61058a565b610417610a2b565b16918215610256575050806001600160a01b031960025416176002557fda1ab4d9bf3aaf27501818ce6108ebfa2279c6ef7a66e80b0b71555b4182315e8280a280f35b5050346102c557816003193601126102c5576020906001600160a01b03600354169051908152f35b509034610146576060366003190112610146576001600160a01b036001541633036104ba5750610100906044359060243590356105ce565b906020606492519162461bcd60e51b8352820152601360248201527f4c443a204e6f74205269736b4d616e61676572000000000000000000000000006044820152fd5b5050346102c557816003193601126102c5576020906001600160a01b03600154169051908152f35b5050346102c557806003193601126102c557806020926001600160a01b0361054b61058a565b168152600584528181206024358252845220549051908152f35b8490346102c557816003193601126102c5576020906001600160a01b03600254168152f35b600435906001600160a01b03821682036105a057565b600080fd5b818102929181159184041417156105b857565b634e487b7160e01b600052601160045260246000fd5b91909182159182801561065e575b61065857600091825260046020526040822092670de0b6b3a76400008086029586041417156106445780156106305782549304830180931161061c575055565b80634e487b7160e01b602492526011600452fd5b602482634e487b7160e01b81526012600452fd5b602482634e487b7160e01b81526011600452fd5b50505050565b5080156105dc565b916106aa670de0b6b3a76400009160009380855260046020526001600160a01b036040862096168552600560205260408520908552602052604084209454906105a5565b049154808311156106c257820391821161061c575090565b50905090565b6040810190811067ffffffffffffffff8211176106e457604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176106e457604052565b8051156107295760200190565b634e487b7160e01b600052603260045260246000fd5b6002549160006001600160a01b0391604092808451957ffb7ce35700000000000000000000000000000000000000000000000000000000875281811697886004890152846024890152876044816020968794165afa968715610a215785976109ee575b5086156107ba5786846107b492610666565b806107c4575b5050505050505050565b8160035416908651907f25d27d8b0000000000000000000000000000000000000000000000000000000082528060048301528482602481865afa9182156109e45787926109b1575b508751610818816106c8565b6001906001815286810190873683378c6108318261071c565b528a519061083e826106c8565b6001825288820195893688376108538361071c565b52863b156109ad579492888b979593928d51998a987fd1400292000000000000000000000000000000000000000000000000000000008a5260648a0190606060048c01525180915260848a0195918b905b82821061097f57505050508784036003190160248901525180845292019391875b8a8282106109665750505050508380928692604483015203925af1801561095c5761092b575b50818352600481528383209583526005815283832091835252209154670de0b6b3a76400009161091b91906105a5565b04905538808080808080806107ba565b67ffffffffffffffff81949294116109485784529161091b6108eb565b602482634e487b7160e01b81526041600452fd5b85513d86823e3d90fd5b845187528d99508a9850958601959093019282016108c5565b939683989a9c5086999b508486939794969296511681520196019201918a9896938c938f9b999796936108a4565b8a80fd5b9091508481813d83116109dd575b6109c981836106fa565b810103126109d95751903861080c565b8680fd5b503d6109bf565b88513d89823e3d90fd5b9096508281813d8311610a1a575b610a0681836106fa565b81010312610a16575195386107a2565b8480fd5b503d6109fc565b86513d87823e3d90fd5b6001600160a01b03600054163303610a3f57565b60246040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152fdfea2646970667358221220cb247f59f2c81b0d62c351483d3e53a150213e6d313f4c0a1597f2f04a34ef7a64736f6c63430008160033",
  "deployedBytecode": "0x6080604081815260048036101561001557600080fd5b600092833560e01c9081630342a90714610565575080632625339e1461052557806347842663146104fd57806353856533146104825780635bfb75081461045a5780635ccea26b146103ed57806362ca846014610380578063715018a6146103245780638da5cb5b146102fe5780639c942679146102c9578063ccd34cd5146102a2578063d852849c1461027c578063e7c14c68146101e9578063f2fde38b1461014a5763fd3c2d7d146100c857600080fd5b346101465781600319360112610146576100e061058a565b916001600160a01b0360025416330361010357836101006024358561073f565b80f35b906020606492519162461bcd60e51b8352820152601a60248201527f4c443a204e6f7420556e6465727772697465724d616e616765720000000000006044820152fd5b8280fd5b50346101465760203660031901126101465761016461058a565b9061016d610a2b565b6001600160a01b038092169283156101ba5750508254826001600160a01b03198216178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b908460249251917f1e4fbdf7000000000000000000000000000000000000000000000000000000008352820152fd5b5034610146576020366003190112610146576001600160a01b0361020b61058a565b610213610a2b565b16918215610256575050806001600160a01b031960035416176003557f4b661626443182ffd0706ac37de04ee5847d39057837148bbf5d01a5b70bf6ca8280a280f35b517fd92e233d000000000000000000000000000000000000000000000000000000008152fd5b503461014657602036600319011261014657602092818392358252845220549051908152f35b5050346102c557816003193601126102c55760209051670de0b6b3a76400008152f35b5080fd5b5050346102c55760603660031901126102c5576020906102f76102ea61058a565b6044359060243590610666565b9051908152f35b5050346102c557816003193601126102c5576001600160a01b0360209254169051908152f35b833461037d578060031936011261037d5761033d610a2b565b806001600160a01b0381546001600160a01b031981168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b80fd5b5034610146576020366003190112610146576001600160a01b036103a261058a565b6103aa610a2b565b16918215610256575050806001600160a01b031960015416176001557f95329fb8cf31c0dda21532344c24159acccf2f795f93c87a30ac6d3ddb9d03d68280a280f35b5034610146576020366003190112610146576001600160a01b0361040f61058a565b610417610a2b565b16918215610256575050806001600160a01b031960025416176002557fda1ab4d9bf3aaf27501818ce6108ebfa2279c6ef7a66e80b0b71555b4182315e8280a280f35b5050346102c557816003193601126102c5576020906001600160a01b03600354169051908152f35b509034610146576060366003190112610146576001600160a01b036001541633036104ba5750610100906044359060243590356105ce565b906020606492519162461bcd60e51b8352820152601360248201527f4c443a204e6f74205269736b4d616e61676572000000000000000000000000006044820152fd5b5050346102c557816003193601126102c5576020906001600160a01b03600154169051908152f35b5050346102c557806003193601126102c557806020926001600160a01b0361054b61058a565b168152600584528181206024358252845220549051908152f35b8490346102c557816003193601126102c5576020906001600160a01b03600254168152f35b600435906001600160a01b03821682036105a057565b600080fd5b818102929181159184041417156105b857565b634e487b7160e01b600052601160045260246000fd5b91909182159182801561065e575b61065857600091825260046020526040822092670de0b6b3a76400008086029586041417156106445780156106305782549304830180931161061c575055565b80634e487b7160e01b602492526011600452fd5b602482634e487b7160e01b81526012600452fd5b602482634e487b7160e01b81526011600452fd5b50505050565b5080156105dc565b916106aa670de0b6b3a76400009160009380855260046020526001600160a01b036040862096168552600560205260408520908552602052604084209454906105a5565b049154808311156106c257820391821161061c575090565b50905090565b6040810190811067ffffffffffffffff8211176106e457604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176106e457604052565b8051156107295760200190565b634e487b7160e01b600052603260045260246000fd5b6002549160006001600160a01b0391604092808451957ffb7ce35700000000000000000000000000000000000000000000000000000000875281811697886004890152846024890152876044816020968794165afa968715610a215785976109ee575b5086156107ba5786846107b492610666565b806107c4575b5050505050505050565b8160035416908651907f25d27d8b0000000000000000000000000000000000000000000000000000000082528060048301528482602481865afa9182156109e45787926109b1575b508751610818816106c8565b6001906001815286810190873683378c6108318261071c565b528a519061083e826106c8565b6001825288820195893688376108538361071c565b52863b156109ad579492888b979593928d51998a987fd1400292000000000000000000000000000000000000000000000000000000008a5260648a0190606060048c01525180915260848a0195918b905b82821061097f57505050508784036003190160248901525180845292019391875b8a8282106109665750505050508380928692604483015203925af1801561095c5761092b575b50818352600481528383209583526005815283832091835252209154670de0b6b3a76400009161091b91906105a5565b04905538808080808080806107ba565b67ffffffffffffffff81949294116109485784529161091b6108eb565b602482634e487b7160e01b81526041600452fd5b85513d86823e3d90fd5b845187528d99508a9850958601959093019282016108c5565b939683989a9c5086999b508486939794969296511681520196019201918a9896938c938f9b999796936108a4565b8a80fd5b9091508481813d83116109dd575b6109c981836106fa565b810103126109d95751903861080c565b8680fd5b503d6109bf565b88513d89823e3d90fd5b9096508281813d8311610a1a575b610a0681836106fa565b81010312610a16575195386107a2565b8480fd5b503d6109fc565b86513d87823e3d90fd5b6001600160a01b03600054163303610a3f57565b60246040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152fdfea2646970667358221220cb247f59f2c81b0d62c351483d3e53a150213e6d313f4c0a1597f2f04a34ef7a64736f6c63430008160033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
